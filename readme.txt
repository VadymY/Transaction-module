
Массив Account:
содержит долларовый и евро депозит а также дополнительный(текущий ) счет, на которой хранится снимамемый кеш и коэффициенты пересчета валют.

Полноценный вариант восстановления битой транзакции сделал только для 2 сценария: при снятии денег со счета, если остаток становится отрицательным, то вызывается механизм восстановления, который такж включает 2 варианта: успешное восстановление и неуспешное восстановление.
Это отражается в 3 вариантах статуса прохождения сценария.

Для остальных  5 сценариев просто сделал заглушки на функцию restore. Честно сказать, не смог придумать варианты нарушения транзакции, да и не вижу в этом смысла, поскольку это было бы просто дублирование кода со 2 сценария.
  
Как тестировать: при установке в функцию  Account в 1 элемент массива (долларовый аккаунт) значения value
 1)  = 1000 - проходит весь сценарий с успешным статусом завершения
 2)  = 50 - проходит 2 сценария с успешным статусом восстановления
 3)  = 20 - проходит 2 сценария с неуспешным статусом восстановления
  
  